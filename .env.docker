# NPCL Dashboard Docker Environment Variables
# This file contains Docker-specific environment variables for containerized deployment

# =============================================================================
# REQUIRED SERVER-SIDE VARIABLES (Docker Configuration)
# =============================================================================

# Database Configuration (Docker Service Names)
DATABASE_URL="postgresql://postgres:SecurePassword123!@postgres:5432/npcl-auth-db-dev?schema=public"

# NextAuth.js Configuration
NEXTAUTH_SECRET="npcl-dashboard-super-secret-jwt-key-2024-production-ready-secure-random-string-ba52b3778b35aa7e8dc32e68cac112403ae85635a43eeec0e8048e7289237042"
NEXTAUTH_URL="http://localhost:3000"

# =============================================================================
# DOCKER-SPECIFIC VARIABLES
# =============================================================================

# Node Environment
NODE_ENV="production"

# PostgreSQL Configuration (for postgres service)
POSTGRES_DB="npcl-auth-db-dev"
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="SecurePassword123!"
POSTGRES_INITDB_ARGS="--encoding=UTF-8 --lc-collate=C --lc-ctype=C"

# Prisma Configuration
PRISMA_CONNECTION_LIMIT="10"
# Prisma engine paths for Debian/glibc - let Prisma auto-detect for better compatibility
# PRISMA_QUERY_ENGINE_LIBRARY="/app/node_modules/.prisma/client/libquery_engine-debian-openssl-1.1.x.so.node"
# PRISMA_QUERY_ENGINE_BINARY="/app/node_modules/.prisma/client/query-engine-debian-openssl-1.1.x"
# OPENSSL_CONF="/dev/null"

# =============================================================================
# OPTIONAL SERVER-SIDE VARIABLES
# =============================================================================

# JWT Configuration
JWT_EXPIRES_IN="24h"

# Email Configuration (for password reset emails)
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT="587"
EMAIL_SECURE="false"
EMAIL_USER="your-email@gmail.com"
EMAIL_PASS="your-app-password"

# Security Configuration
BCRYPT_SALT_ROUNDS="12"

# Rate Limiting
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes
RATE_LIMIT_MAX_ATTEMPTS="5"

# Session Configuration
SESSION_MAX_AGE="86400"        # 24 hours
SESSION_UPDATE_AGE="3600"      # 1 hour

# File Upload Limits
MAX_FILE_SIZE="10485760"       # 10MB

# Alert Thresholds (Server-side)
LOW_EFFICIENCY_THRESHOLD="75"
HIGH_TEMPERATURE_THRESHOLD="500"
OFFLINE_TIMEOUT="300000"       # 5 minutes

# =============================================================================
# OPTIONAL CLIENT-SIDE VARIABLES (Prefixed with NEXT_PUBLIC_)
# =============================================================================

# API Configuration
NEXT_PUBLIC_API_URL="http://localhost:3000/api"

# Feature Flags
NEXT_PUBLIC_ENABLE_REGISTRATION="true"
NEXT_PUBLIC_ENABLE_EMAIL_NOTIFICATIONS="true"

# Dashboard Refresh Intervals (in milliseconds)
NEXT_PUBLIC_DASHBOARD_REFRESH_INTERVAL="30000"      # 30 seconds
NEXT_PUBLIC_POWER_READINGS_REFRESH_INTERVAL="10000" # 10 seconds
NEXT_PUBLIC_ALERTS_REFRESH_INTERVAL="60000"         # 1 minute

# Alert Thresholds (Client-side display)
NEXT_PUBLIC_LOW_EFFICIENCY_THRESHOLD="75"
NEXT_PUBLIC_HIGH_TEMPERATURE_THRESHOLD="500"
NEXT_PUBLIC_OFFLINE_TIMEOUT="300000"                # 5 minutes